{% comment %}
  Section : Carrousel de vidéos ("Elles l'adorent")
  Compatible avec le thème Impact
{% endcomment %}

<section class="video-carousel-section">
  <div class="page-width text-center">
    {% if section.settings.title != blank %}
      <h2 class="video-carousel-title">{{ section.settings.title }}</h2>
    {% endif %}

    <div class="video-carousel">
      {% for block in section.blocks %}
        <div class="video-item">
          {% if block.settings.video_url != blank %}
            <video 
              src="{{ block.settings.video_url }}" 
              controls 
              muted 
              playsinline 
              loop
              class="video-thumb">
            </video>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
.video-carousel-section {
  padding: 60px 0;
  background: #fff;
}
.video-carousel-title {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 30px;
}
.video-carousel {
  display: flex;
  gap: 20px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scrollbar-width: thin;
  -webkit-overflow-scrolling: touch;
}
.video-item {
  flex: 0 0 auto;
  scroll-snap-align: start;
  width: 200px;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}
.video-thumb {
  width: 100%;
  height: auto;
  border: none;
  display: block;
  object-fit: cover;
}
.video-carousel::-webkit-scrollbar {
  height: 6px;
}
.video-carousel::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 3px;
}
</style>

{% schema %}
{
  "name": "Carrousel de vidéos",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titre",
      "default": "ELLES L'ADORENT"
    }
  ],
  "blocks": [
    {
      "type": "video_block",
      "name": "Vidéo",
      "settings": [
        {
          "type": "text",
          "id": "video_url",
          "label": "Lien vidéo (MP4 ou URL de fichier)",
          "default": "https://cdn.shopify.com/s/files/example.mp4"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Carrousel de vidéos",
      "category": "Vidéo"
    }
  ]
}
{% endschema %}
